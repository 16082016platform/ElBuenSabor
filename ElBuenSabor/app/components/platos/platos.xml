<Page id="platosView" xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:widgets="utils/widgets" loaded="pageLoaded">
    <Page.actionBar>
        <widgets:action-bar />
    </Page.actionBar>

    <StackLayout>
		<GridLayout rows="auto, *">
            
            <GridLayout row="0" columns="*,*,*,*,*" cssClass="blue-background" opacity="{{ (isReorderActive || isSelectionActive) ? '0.4' : '1'}}">
                <StackLayout orientation="vertical">
	                <Button text="MenÃº" tap="{{ onTap_AllMode }}" cssClass="{{ Mode == 'ALL' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
    	            <GridLayout cssClass="{{ Mode === 'ALL' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="1" orientation="vertical">
        	        <Button text="Carta" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
            	    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="2" orientation="vertical">
        	        <Button text="Postres" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
            	    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="3" orientation="vertical">
        	        <Button text="Bebidas" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
            	    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="4" orientation="vertical">
        	        <Button text="Otros" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
            	    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
            </GridLayout>
                       
            
            
            <ListView row="1" items="{{ listItems }}" itemTap="onListViewItemTap" style="background-image:url('~/images/platos/backgrounds/bgPlatos.jpg');">
            	
                <ListView.itemTemplate>
                       
                    <StackLayout>
<!--                         <GridLayout columns="100, *" cssClass="padded-label">


                            <Image col="0" width="100" height="100" src="{{ image }}" />


                            <StackLayout col="1" cssClass="padded-label-stack">
                                <Label text="{{ header }}" cssClass="title-label" textWrap="true" />
                                <Label text="{{ description }}" textWrap="true" />
                            </StackLayout>

                        </GridLayout> -->


<!--                         <GridLayout orientation="vertical" cssClass="form-item">

							<Label row="1" text="S/" cssClass="label" />

                            <Label col="1" row="1" text="{{ details.precio }}" cssClass="label" textWrap="true" />

                        </GridLayout>
 -->
                        <StackLayout col="1" cssClass="imagenPlato" >
                            <Image src="{{ image }}" stretch ="aspectFit" />
                            
                            <StackLayout col="1" cssClass="etiquetaPlato">
                                <Label text="{{ header  }}" style="font-style:italic;"/>
                                <Label text="{{ 'S/' + details.precio }}" style="font-weight:bold;"/>
                            </StackLayout>
                            <StackLayout orientation="horizontal" cssClass="addCantidad" horizontalAlignment="right"> 
                                   <Button id="{{ 'disminuir' + details.Id }}" text=" - "  cssClass="disminuirCantidad" visibility="collapsed" tap="buttonTap" />
                                   <Button id="{{ 'agregar' + details.Id }}" text=" Agregar " cssClass="agregarCantidad" tap="agregarCantidad" />
                                   <Button id="{{ 'aumentar' + details.Id }}" text=" + " tap="aumentarCantidad" />
                            </StackLayout>
                        </StackLayout>
                        
<!--                             <GridLayout rows="auto, *" columns="*" horizontalAlignment="left">
							     <SegmentedBar row="0" ios:selectedBackgroundColor="white" android:selectedBackgroundColor="#FAC950">
                                    <SegmentedBar.items>
                                        <SegmentedBarItem title="-" />
                                        <SegmentedBarItem title="+" />
                                    </SegmentedBar.items>
                                </SegmentedBar>
                                <Label col="0" text="0"/>
                            </GridLayout> -->
                            
                            
<!--                         <GridLayout rows="auto, auto" columns="auto" orientation="horizontal">
                            <Label text=" - " row="0" col="0" backgroundColor="red"/>
                            <Label text="   " row="0" col="1" backgroundColor="green"/>
                            <Label text=" + " row="0" col="2" backgroundColor="blue"/>
                         </GridLayout> -->
                        
                        
<!--                         <StackLayout cssClass="form-item-border" height="1"></StackLayout> -->
                        <!-- additional view content -->

                    </StackLayout>
                </ListView.itemTemplate>
            </ListView>
            <ActivityIndicator row="1" busy="{{ isLoading }}" />
        </GridLayout>
        <!-- additional view content -->

        <!-- START_CUSTOM_CODE_platos -->
        <!-- Add custom code here. For more information about custom code, see http://docs.telerik.com/platform/screenbuilder/troubleshooting/how-to-keep-custom-code-changes -->

        <!-- END_CUSTOM_CODE_platos -->
    </StackLayout>
</Page>