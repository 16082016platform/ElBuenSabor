<Page id="platosView" xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:widgets="utils/widgets" loaded="pageLoaded">
    <Page.actionBar>
        <widgets:action-bar />
    </Page.actionBar>
 
    <StackLayout>
        <GridLayout rows="auto, *, auto">
            <GridLayout row="0" columns="*,*,*,*,*" cssClass="encabezados" opacity="{{ (isReorderActive || isSelectionActive) ? '0.4' : '1'}}">
                <StackLayout orientation="vertical">
                    <Button text="Menú" tap="{{ onTap_AllMode }}" cssClass="{{ Mode == 'ALL' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
                    <GridLayout cssClass="{{ Mode === 'ALL' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="1" orientation="vertical">
                    <Button text="Carta" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
                    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="2" orientation="vertical">
                    <Button text="Postres" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
                    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="3" orientation="vertical">
                    <Button text="Bebidas" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
                    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
                <StackLayout col="4" orientation="vertical">
                    <Button text="Otros" tap="{{ onTap_FavoritesMode }}" cssClass="{{ Mode == 'FAVOURITES' ? 'modeSelectedButtonStyle' : 'modeButtonStyle' }}" isEnabled="{{ !(isReorderActive || isSelectionActive) }}"/>
                    <GridLayout cssClass="{{ Mode === 'FAVOURITES' ? 'selectedBarItemBottomBorder' : 'barItemBottomBorder'}}"/>
                </StackLayout>
            </GridLayout>
            <ListView row="1" items="{{ listItems }}" itemTap="onListViewItemTap" style="background-image:url('~/images/platos/backgrounds/bgPlatos.jpg');">
                <ListView.itemTemplate>
 
                    <StackLayout>
 
                        <StackLayout col="1" cssClass="imagenPlato" >
                            <Image src="{{ image }}" stretch ="aspectFit" />
 
                            <StackLayout col="1" cssClass="etiquetaPlato">
                                <Label text="{{ header  }}" style="font-style:italic;"/>
                                <Label text="{{ 'S/' + details.precio }}" style="font-weight:bold;"/>
                            </StackLayout>
                            <StackLayout orientation="horizontal" cssClass="addCantidad" horizontalAlignment="right">
                                <Button id="{{ 'disminuir' + details.Id }}" text=" - "  cssClass="disminuirCantidad" visibility="collapsed" tap="buttonTap" />
                                <Button id="{{ 'agregar' + details.Id }}" text=" Agregar " cssClass="agregarCantidad" tap="agregarCantidad" />
                                <Button id="{{ 'aumentar' + details.Id }}" text=" + " tap="aumentarCantidad" />
                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </ListView.itemTemplate>
            </ListView>
            <ActivityIndicator row="1" busy="{{ isLoading }}" />
 
            <!-- will be seen as a footer -->
            <GridLayout row="2" cssClass="footer">
                <StackLayout tap="buttonForwardTap">
                    <Label text="El carrito entá vacío"/>
                    <Label text=" 0"/>
                </StackLayout>
            </GridLayout>
        </GridLayout>
    </StackLayout>
</Page>
